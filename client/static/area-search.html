<!doctype html> <!--later on: make the table load only 50 entries at a time and provide  <-prev 1 2 3 4 5 ... N next-> menu to navigate the chunks-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>BugHound</title>
    <meta name="description" content="BugHound">
    <meta name="author" content="SitePoint">
    <link rel="stylesheet" type="text/css" href="./css/element-search.css">
  </head>

  <body onload="loadPageContent()">
    <h1 style="display: inline; margin-right:20px;">Area Search</h1>
    <nav style="display: inline;">
      <a href="./menu.html">Menu</a>
      <a href="./area-search.html">Areas</a>
      <a href="./issue-search.html">Issues</a>
      <a href="./employee-search.html">Employees</a>
      <a onclick="logout()">Logout</a>
    </nav>
    <p>Find areas by any of the following fields: "ID, area name, description"</p> <!--TODO: verfiy this is the correct list of searchable fields-->
    <br>
    <div id=keyword-search-bar>Keywords: <input type=text> <input onclick="searchArea('input goes here')" type=submit name=Search></div>
    <br>
    <h2>Results</h2>
    <table border="1">
      <tr>
        <th>ID</th>
        <th>Area name</th>
        <th>Description</th>
        <th>actions</th>
      </tr>
      <div id="database-viewport>">
        <tr id="data-table-row-1"> <!--TODO: upon loading the page, populate the area's information row by row-->
        <td><span id=data-table-row-1-id-value>1</span></td></td>
        <td><span id=data-table-row-1-area-name-value>Bughound Beta</span></td><!--TODO: change this href to pass the identifier for the specific area as query arg.-->
        <td>Software that tracks reports on bugs found in programs.</td>
        <td><!--TODO: link this to the particular area belonging to this row in the href-->
          <a href="./area-view.html">View</a> |
          <a href="./area-edit.html">Edit</a> |
          <a onclick="deleteArea('ID # goes here')" id="delete-button--id-key-here">Delete</a>
        </td>
      </tr>
    </div>
    </table>
    <br>
    <br>
    <p>Missing an area? Add it <a style="margin: 0;" href="./area-edit.html">here</a>.</p>
  </body>

  <script type="text/javascript" src="./js/gui-scripts.js"></script>
  <script>
    function searchArea(keywords) {
      alert("searching for area. Press to continue")
      //TODO: search the database and return elements that satify the given keywords in any of the searchable fields.
    }

    function loadPageContent() {
      //TODO: populate the database-viewport with ALL entires in the relevant database table
    }

    function deleteArea(id) {
      //TODO: pop up to confirm the deletion.
      //communicate to backend to delete the correct entry
      //reload the table with the just-deleted entry gone.
      alert("You're about to delete!");
      window.location.href = "./area-search.html";
    }
  </script>

</html>
